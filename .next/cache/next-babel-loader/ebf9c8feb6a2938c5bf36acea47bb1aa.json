{"ast":null,"code":"import React from 'react';\nimport dynamic from 'next/dynamic';\n\nconst rdfetch = require('@rdfjs/fetch');\n\nconst Map = dynamic(() => import('../components/Map'), {\n  ssr: false,\n  loading: () => 'Loading...',\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../components/Map')],\n    modules: ['../components/Map']\n  }\n});\n\nconst Test = props => ({\n  /*   <Map\n        className=\"map\"\n        labels={true}\n        clickable={true}\n        hover={true}\n    />\n  */\n});\n\nTest.getInitialProps = async function getInitialProps(context) {\n  async function ev2(link) {\n    const res = await rdfetch(`${link}`, {\n      headers: {\n        accept: 'application/rdf+xml'\n      }\n    });\n    const dataset = await res.dataset();\n\n    for (const quad of dataset) {\n      if (quad.predicate.object == \"http://opendata.muis.ee/thesaurus/61/11273\") return true;\n    }\n\n    return false;\n  }\n\n  async function ev(link) {\n    const res = await rdfetch(`${link}`, {\n      headers: {\n        accept: 'application/rdf+xml'\n      }\n    });\n    const dataset = await res.dataset();\n\n    for (const quad of dataset) {\n      if (quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P12_occurred_in_the_presence_of\") if (ev2(quad.object.value)) {\n        console.log(\"Jah\");\n      }\n      ;\n    }\n  }\n\n  const res = await rdfetch('http://www.muis.ee/rdf/objects-by-museum/145873', {\n    headers: {\n      accept: 'application/rdf+xml'\n    }\n  });\n  const dataset = await res.dataset();\n  let count2 = 2;\n  let count = 0;\n\n  for (const quad of dataset) {\n    if (quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P46_is_composed_of\") {\n      count++;\n    } // array.push(quad.object.value);\n    //var a = getEvent(quad.object.value);\n    // console.log(a);\n\n  }\n\n  console.log(count);\n  return {\n    count2\n  };\n};\n\nexport default Test;","map":{"version":3,"sources":["/Users/liisitaimre/Documents/hello-next/pages/index.js"],"names":["React","dynamic","rdfetch","require","Map","ssr","loading","Test","props","getInitialProps","context","ev2","link","res","headers","accept","dataset","quad","predicate","object","ev","value","console","log","count2","count"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,cAApB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,cAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGH,OAAO,CAAC,MAAM,OAAO,mBAAP,CAAP,EAAoC;AACnDI,EAAAA,GAAG,EAAE,KAD8C;AAEnDC,EAAAA,OAAO,EAAE,MAAM,YAFoC;AAAA;AAAA,wCAAtB,mBAAsB;AAAA,cAAtB,mBAAsB;AAAA;AAAA,CAApC,CAAnB;;AAMA,MAAMC,IAAI,GAAEC,KAAK,KAEA;AAAC;;;;;;;AAAD,CAFA,CAAjB;;AAcGD,IAAI,CAACE,eAAL,GAAuB,eAAeA,eAAf,CAAgCC,OAAhC,EAAyC;AAE5D,iBAAeC,GAAf,CAAmBC,IAAnB,EAAyB;AACjB,UAAMC,GAAG,GAAG,MAAMX,OAAO,CAAE,GAAEU,IAAK,EAAT,EAAY;AACjCE,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH;AADwB,KAAZ,CAAzB;AAKH,UAAMC,OAAO,GAAG,MAAMH,GAAG,CAACG,OAAJ,EAAtB;;AACA,SAAK,MAAMC,IAAX,IAAmBD,OAAnB,EAA4B;AACrB,UAAGC,IAAI,CAACC,SAAL,CAAeC,MAAf,IAAyB,4CAA5B,EACI,OAAO,IAAP;AACX;;AACA,WAAO,KAAP;AACJ;;AAED,iBAAeC,EAAf,CAAkBR,IAAlB,EAAwB;AAChB,UAAMC,GAAG,GAAG,MAAMX,OAAO,CAAE,GAAEU,IAAK,EAAT,EAAY;AACjCE,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH;AADwB,KAAZ,CAAzB;AAMA,UAAMC,OAAO,GAAG,MAAMH,GAAG,CAACG,OAAJ,EAAtB;;AAEA,SAAK,MAAMC,IAAX,IAAmBD,OAAnB,EAA4B;AACxB,UAAGC,IAAI,CAACC,SAAL,CAAeG,KAAf,IAAwB,oEAA3B,EAEI,IAAGV,GAAG,CAACM,IAAI,CAACE,MAAL,CAAYE,KAAb,CAAN,EAA2B;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH;AAAA;AACR;AACJ;;AAKL,QAAMV,GAAG,GAAG,MAAMX,OAAO,CAAC,iDAAD,EAAoD;AACxEY,IAAAA,OAAO,EAAE;AACLC,MAAAA,MAAM,EAAE;AADH;AAD+D,GAApD,CAAzB;AAKA,QAAMC,OAAO,GAAG,MAAMH,GAAG,CAACG,OAAJ,EAAtB;AACA,MAAIQ,MAAM,GAAG,CAAb;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACA,OAAK,MAAMR,IAAX,IAAmBD,OAAnB,EAA4B;AACvB,QAAGC,IAAI,CAACC,SAAL,CAAeG,KAAf,IAAwB,uDAA3B,EAEA;AAAEI,MAAAA,KAAK;AAAI,KAHY,CAMpB;AACG;AACH;;AAER;;AAGEH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,SAAO;AAACD,IAAAA;AAAD,GAAP;AACH,CA5DF;;AAiEH,eAAejB,IAAf","sourcesContent":["import React from 'react';\nimport dynamic from 'next/dynamic'\nconst rdfetch = require('@rdfjs/fetch');\nconst Map = dynamic(() => import('../components/Map'), {\n    ssr: false,\n    loading: () => 'Loading...'\n});\n\n\nconst Test= props => (\n\n                 {/*   <Map\n                        className=\"map\"\n                        labels={true}\n                        clickable={true}\n                        hover={true}\n                    />\n*/}\n\n);\n\n\n\n   Test.getInitialProps = async function getInitialProps (context) {\n\n       async function ev2(link) {\n               const res = await rdfetch(`${link}`, {\n                   headers: {\n                       accept: 'application/rdf+xml'\n                   }\n               })\n            const dataset = await res.dataset();\n            for (const quad of dataset) {\n                   if(quad.predicate.object == \"http://opendata.muis.ee/thesaurus/61/11273\" )\n                       return true;\n           }\n            return false;\n       }\n\n       async function ev(link) {\n               const res = await rdfetch(`${link}`, {\n                   headers: {\n                       accept: 'application/rdf+xml'\n                   }\n               });\n\n               const dataset = await res.dataset();\n\n               for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P12_occurred_in_the_presence_of\" )\n\n                       if(ev2(quad.object.value)) {\n                           console.log(\"Jah\")\n                       };\n               }\n           }\n\n\n\n\n       const res = await rdfetch('http://www.muis.ee/rdf/objects-by-museum/145873', {\n            headers: {\n                accept: 'application/rdf+xml'\n            }\n        });\n       const dataset = await res.dataset();\n       let count2 = 2;\n       let count = 0;\n       for (const quad of dataset) {\n            if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P46_is_composed_of\")\n\n            { count ++}\n\n\n               // array.push(quad.object.value);\n                  //var a = getEvent(quad.object.value);\n               // console.log(a);\n\n      }\n\n\n         console.log(count);\n        return {count2};\n    };\n\n\n\n\nexport default Test\n"]},"metadata":{},"sourceType":"module"}