{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/liisitaimre/Documents/hello-next/pages/index.js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport MuseumInfo from \"../components/MuseumInfo\";\n\nvar rdfetch = require('@rdfjs/fetch');\n\nvar Map = dynamic(function () {\n  return import('../components/Map');\n}, {\n  ssr: false,\n  loading: function loading() {\n    return 'Loading...';\n  },\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../components/Map')];\n    },\n    modules: ['../components/Map']\n  }\n});\n\nvar Test = function Test(props) {\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, \"Museaale muuseumis: \", props.count), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, \"Museaale valikus: \", props.choice), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, \"Museaale s\\xFCndmusega: \", props.countEvent), __jsx(MuseumInfo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }), __jsx(Map, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }));\n};\n/*\n   Test.getInitialProps = async function getInitialProps (context) {\n\n       async function getDataset(link) {\n           const dataset = await rdfetch(`${link}`, {\n               headers: {\n                   accept: 'application/rdf+xml'\n               }\n           })\n               .then(res => res.dataset())\n               .catch(err => console.error(err));\n           return dataset;\n       }\n\n       function isIterable(obj) {\n           if (obj == null) {\n               return false;\n           }\n           return typeof obj[Symbol.iterator] === 'function';\n       }\n\n       async function checkHigherPlace(link) {\n\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n\n               for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P87_falls_within\")\n                   {\n                       if(quad.object.value == \"http://opendata.muis.ee/place/6218\") {\n                           return true\n                       }\n                       else {\n\n                       }\n\n\n               }\n\n\n           }\n       }\n\n\n\n       }\n\n       async function getPlace(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n               //\n               for (const quad of dataset) {\n                 //check if is already\n               }\n\n               }\n           }\n\n\n       async function hasHigher(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n                //\n           for (const quad of dataset) {\n               if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P127_has_broader_term\"  ) {\n\n                   if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                       return true;\n                   }\n               }\n       }\n           }\n       }\n\n\n       async function isTypeEvent(link) {\n           const dataset = getDataset(link);\n            if(isIterable(dataset)) {\n                let type = 0;\n                let place = [];\n                for (const quad of dataset) {\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P2_has_type\" ) {\n                        if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                            type = 1;\n                        }\n                        else {\n                          let a = await hasHigher(quad.object.value);\n                          if(a){\n                              type = 1;\n                          }\n                        }\n                    }\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P7_took_place_at\" ) {\n                        place.push(quad.object.value);\n                    }\n                }\n\n                    if(type && place.length ) {\n                        for(let x=0; x < place.length;  x++) {\n                            //getPlace(place[x]);\n                        }\n\n                        return true;\n                    }\n            }\n\n\n       }\n\n       async function hasEvent(link) {\n          const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n           for (const quad of dataset) {\n               if (quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P12_occurred_in_the_presence_of\" ) {\n                   { let isType = await isTypeEvent(quad.object.value);\n                       if(isType) {\n                           return true;\n                       }\n\n                   }\n\n               }\n           }\n           }\n       }\n\n\n\n\n       let count = 0;\n       let countEvent = 0;\n       const choice = 188;\n       const array = [];\n       //Jääri ajaloolised 1204\n       //Jääri fotod: 1252\n       //Jööri ajaloolised: 1238\n       //Meierei: 120 Üks - 0\n       //Pudukogu 1198\n       //Alver - ajalooline 392\n\n\n        const dataset = await getDataset('https://www.muis.ee/rdf/collection/1204');\n        if(isIterable(dataset)) {\n            for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P46_is_composed_of\")\n                   { array.push(quad.object.value);\n                       count ++\n                   }\n               }\n           }\n\n\n\n      for (let x = 0; x<array.length; x++) {\n           { let hasEv = await hasEvent(array[x]);\n               if(hasEv) {\n                   countEvent++\n               }\n           }\n       }\n       return {count, choice, countEvent};\n    };\n*/\n\n\nexport default Test;","map":{"version":3,"sources":["/Users/liisitaimre/Documents/hello-next/pages/index.js"],"names":["React","dynamic","MuseumInfo","rdfetch","require","Map","ssr","loading","Test","props","count","choice","countEvent"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAAC,cAAD,CAAvB;;AACA,IAAMC,GAAG,GAAGJ,OAAO,CAAC;AAAA,SAAM,OAAO,mBAAP,CAAN;AAAA,CAAD,EAAoC;AACnDK,EAAAA,GAAG,EAAE,KAD8C;AAEnDC,EAAAA,OAAO,EAAE;AAAA,WAAM,YAAN;AAAA,GAF0C;AAAA;AAAA;AAAA,kCAAtB,mBAAsB;AAAA;AAAA,cAAtB,mBAAsB;AAAA;AAAA,CAApC,CAAnB;;AAMA,IAAMC,IAAI,GAAE,SAANA,IAAM,CAAAC,KAAK;AAAA,SAEb,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAwBA,KAAK,CAACC,KAA9B,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAsBD,KAAK,CAACE,MAA5B,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAyBF,KAAK,CAACG,UAA/B,CAJJ,EAMI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CAFa;AAAA,CAAjB;AAgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA,eAAeJ,IAAf","sourcesContent":["import React from 'react';\nimport dynamic from 'next/dynamic'\nimport MuseumInfo from \"../components/MuseumInfo\";\nconst rdfetch = require('@rdfjs/fetch');\nconst Map = dynamic(() => import('../components/Map'), {\n    ssr: false,\n    loading: () => 'Loading...'\n});\n\n\nconst Test= props => (\n\n    <React.Fragment>\n\n        <p>Museaale muuseumis: {props.count}</p>\n        <p>Museaale valikus: {props.choice}</p>\n        <p>Museaale sündmusega: {props.countEvent}</p>\n\n        <MuseumInfo/>\n        <Map/>\n\n    </React.Fragment>\n);\n\n\n\n/*\n   Test.getInitialProps = async function getInitialProps (context) {\n\n       async function getDataset(link) {\n           const dataset = await rdfetch(`${link}`, {\n               headers: {\n                   accept: 'application/rdf+xml'\n               }\n           })\n               .then(res => res.dataset())\n               .catch(err => console.error(err));\n           return dataset;\n       }\n\n       function isIterable(obj) {\n           if (obj == null) {\n               return false;\n           }\n           return typeof obj[Symbol.iterator] === 'function';\n       }\n\n       async function checkHigherPlace(link) {\n\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n\n               for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P87_falls_within\")\n                   {\n                       if(quad.object.value == \"http://opendata.muis.ee/place/6218\") {\n                           return true\n                       }\n                       else {\n\n                       }\n\n\n               }\n\n\n           }\n       }\n\n\n\n       }\n\n       async function getPlace(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n               //\n               for (const quad of dataset) {\n                 //check if is already\n               }\n\n               }\n           }\n\n\n       async function hasHigher(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n                //\n           for (const quad of dataset) {\n               if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P127_has_broader_term\"  ) {\n\n                   if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                       return true;\n                   }\n               }\n       }\n           }\n       }\n\n\n       async function isTypeEvent(link) {\n           const dataset = getDataset(link);\n            if(isIterable(dataset)) {\n                let type = 0;\n                let place = [];\n                for (const quad of dataset) {\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P2_has_type\" ) {\n                        if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                            type = 1;\n                        }\n                        else {\n                          let a = await hasHigher(quad.object.value);\n                          if(a){\n                              type = 1;\n                          }\n                        }\n                    }\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P7_took_place_at\" ) {\n                        place.push(quad.object.value);\n                    }\n                }\n\n                    if(type && place.length ) {\n                        for(let x=0; x < place.length;  x++) {\n                            //getPlace(place[x]);\n                        }\n\n                        return true;\n                    }\n            }\n\n\n       }\n\n       async function hasEvent(link) {\n          const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n           for (const quad of dataset) {\n               if (quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P12_occurred_in_the_presence_of\" ) {\n                   { let isType = await isTypeEvent(quad.object.value);\n                       if(isType) {\n                           return true;\n                       }\n\n                   }\n\n               }\n           }\n           }\n       }\n\n\n\n\n       let count = 0;\n       let countEvent = 0;\n       const choice = 188;\n       const array = [];\n       //Jääri ajaloolised 1204\n       //Jääri fotod: 1252\n       //Jööri ajaloolised: 1238\n       //Meierei: 120 Üks - 0\n       //Pudukogu 1198\n       //Alver - ajalooline 392\n\n\n        const dataset = await getDataset('https://www.muis.ee/rdf/collection/1204');\n        if(isIterable(dataset)) {\n            for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P46_is_composed_of\")\n                   { array.push(quad.object.value);\n                       count ++\n                   }\n               }\n           }\n\n\n\n      for (let x = 0; x<array.length; x++) {\n           { let hasEv = await hasEvent(array[x]);\n               if(hasEv) {\n                   countEvent++\n               }\n           }\n       }\n       return {count, choice, countEvent};\n    };\n*/\n\n\n\n\nexport default Test\n"]},"metadata":{},"sourceType":"module"}