{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/MuseumInfo.js","webpack:///./pages/index.js","webpack:///external \"@rdfjs/fetch\"","webpack:///external \"react\"","webpack:///external \"react-bootstrap\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","import React from 'react'\nimport { Jumbotron, Button} from 'react-bootstrap';\nconst MuseumInfo= props => (\n    <React.Fragment>\n        <Jumbotron>\n            <h1>Hello, world!</h1>\n            <p>\n                This is a simple hero unit, a simple jumbotron-style component for calling\n                extra attention to featured content or information.\n            </p>\n            <p>\n                <Button variant=\"primary\">Learn more</Button>\n            </p>\n        </Jumbotron>\n\n    </React.Fragment>\n);\n\nexport default MuseumInfo;\n","import React from 'react';\nimport MuseumInfo from \"../components/MuseumInfo\";\nconst rdfetch = require('@rdfjs/fetch');\n\n\n\nconst Test= props => (\n\n    <React.Fragment>\n\n        <p>Museaale muuseumis: {props.count}</p>\n        <p>Museaale valikus: {props.choice}</p>\n        <p>Museaale sündmusega: {props.countEvent}</p>\n\n    </React.Fragment>\n);\n\n\n\n\n   Test.getInitialProps = async function getInitialProps (context) {\n\n       async function getDataset(link) {\n           const dataset = await rdfetch(`${link}`)\n               .then(res => res.dataset())\n               .catch(err => console.error(err));\n           return dataset;\n       }\n\n       function isIterable(obj) {\n           if (obj == null) {\n               return false;\n           }\n           return typeof obj[Symbol.iterator] === 'function';\n       }\n\n       async function checkHigherPlace(link) {\n\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n\n               for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P87_falls_within\")\n                   {\n                       if(quad.object.value == \"http://opendata.muis.ee/place/6218\") {\n                           return true\n                       }\n                       else {\n\n                       }\n\n\n               }\n\n\n           }\n       }\n\n\n\n       }\n\n       async function getPlace(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n               //\n               for (const quad of dataset) {\n                 //check if is already\n               }\n\n               }\n           }\n\n\n       async function hasHigher(link) {\n           const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n                //\n           for (const quad of dataset) {\n               if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P127_has_broader_term\"  ) {\n\n                   if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                       return true;\n                   }\n               }\n       }\n           }\n       }\n\n\n       async function isTypeEvent(link) {\n           const dataset = getDataset(link);\n            if(isIterable(dataset)) {\n                let type = 0;\n                let place = [];\n                for (const quad of dataset) {\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P2_has_type\" ) {\n                        if(quad.object.value == \"http://opendata.muis.ee/thesaurus/61/11273\" ) {\n                            type = 1;\n                        }\n                        else {\n                          let a = await hasHigher(quad.object.value);\n                          if(a){\n                              type = 1;\n                          }\n                        }\n                    }\n                    if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P7_took_place_at\" ) {\n                        place.push(quad.object.value);\n                    }\n                }\n\n                    if(type && place.length ) {\n                        for(let x=0; x < place.length;  x++) {\n                            //getPlace(place[x]);\n                        }\n\n                        return true;\n                    }\n            }\n\n\n       }\n\n       async function hasEvent(link) {\n          const dataset = getDataset(link);\n           if(isIterable(dataset)) {\n           for (const quad of dataset) {\n               if (quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P12_occurred_in_the_presence_of\" ) {\n                   { let isType = await isTypeEvent(quad.object.value);\n                       if(isType) {\n                           return true;\n                       }\n\n                   }\n\n               }\n           }\n           }\n       }\n\n\n\n\n       let count = 0;\n       let countEvent = 0;\n       const choice = 188;\n       const array = [];\n\n       //Jääri ajaloolised 1204\n       //Jääri fotod: 1252\n       //Jööri ajaloolised: 1238\n       //Meierei: 1210\n       //Pudukogu 1198\n       //Alver - ajalooline 392\n\n\n        const dataset = await getDataset('https://www.muis.ee/rdf/collection/1210');\n        if(isIterable(dataset)) {\n            for (const quad of dataset) {\n                   if(quad.predicate.value == \"http://www.cidoc-crm.org/cidoc-crm/P46_is_composed_of\")\n                   { array.push(quad.object.value);\n                       count ++\n                   }\n               }\n           }\n\n\n\n      for (let x = 0; x<array.length; x++) {\n           { let hasEv = await hasEvent(array[x]);\n               if(hasEv) {\n                   countEvent++\n               }\n           }\n       }\n       return {count, choice, countEvent};\n    };\n\n\n\n\n\nexport default Test\n","module.exports = require(\"@rdfjs/fetch\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AAAA;AACA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAMA;AAGA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;;;ACvLA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}